import{a as N,X as B,j as i,bM as G,r as $,u as O,a0 as J,a_ as X,aZ as A,a$ as Q,aS as R,bN as Y,bO as Z,bP as D,p as H,aX as S,bQ as K,aY as L,au as U,d as V,b as ee,T as te,S as ie,bv as re,E as oe,a1 as se,bj as ae,a2 as le,bR as ne,bm as me,bk as pe,P as ce,ay as de,bz as he,bl as ue,__tla as xe}from"./index-DKEudB02.js";import{P as fe}from"./empty-state-B3dA3G5P.js";import{H as M,__tla as je}from"./edit-page-BrYda9VE.js";import{B as W}from"./between-horizontal-start-Boxgxbt_.js";import"./links-D59GIweI.js";import{__tla as be}from"./storage-CMdLzB_c.js";import"./index-CQDrxQ0j.js";import"./index-C77h_TXN.js";import"./index-D1vmG6DS.js";import"./index-lYa_leQE.js";import"./index-DRMm6SNo.js";import"./index-vmICa5KN.js";import"./index-BY93Ejhl.js";import"./index-C-GhZ7ti.js";import"./index-C-8WADat.js";import"./index-DoRmcrKM.js";import"./index-DEQvTChO.js";import"./index-CWMgowgL.js";import"./index-D9UKkrr2.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-BVgAenPd.js";import"./trash-Dc6DSjz_.js";import"./_createAggregator-DcD0kTA5.js";import"./_baseEach-CNBxBxvS.js";import{__tla as _e}from"./loro_wasm_bg-C1ks32Vm.js";let E,ye=Promise.all([(()=>{try{return xe}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return be}catch{}})(),(()=>{try{return _e}catch{}})()]).then(async()=>{let P,z,I,F,T,q;P=t=>{const e=N.c(6),{children:r}=t,{openModal:a,closeModal:l}=B();let s,o;return e[0]!==l||e[1]!==a?(s=()=>a(i.jsx(I,{onClose:l})),e[0]=l,e[1]=a,e[2]=s):s=e[2],e[3]!==r||e[4]!==s?(o=i.jsx(G,{onClick:s,children:r}),e[3]=r,e[4]=s,e[5]=o):o=e[5],o},z=[H.lineWrapping],I=t=>{const e=N.c(23),{onClose:r}=t,[a,l]=$.useState(""),{theme:s}=O();let o,p,v,b,f,c;e[0]!==r?(o=async m=>{m.preventDefault();const y=new FormData(m.target),C=y.get("title"),g=y.get("description"),w=y.get("code");fetch("https://marimo.io/api/suggest-snippet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:C,description:g,code:w})}),r(),J({title:"Snippet Submitted",description:"Thank you for contributing! We will review your snippet shortly."})},e[0]=r,e[1]=o):o=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(p=i.jsx(X,{children:"Contribute a Snippet"}),e[2]=p):p=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(v=i.jsxs(A,{children:[p,i.jsxs(Q,{children:["Have a useful snippet you want to share with the community? Submit it here or make a pull request"," ",i.jsx("a",{href:R.githubPage,target:"_blank",className:"underline",children:"on GitHub"}),"."]})]}),e[3]=v):v=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(b=i.jsx(Y,{id:"title",name:"title",autoFocus:!0,placeholder:"Title",required:!0,autoComplete:"off"}),f=i.jsx(Z,{id:"description",name:"description",autoFocus:!0,placeholder:"Description",rows:5,required:!0,autoComplete:"off"}),e[4]=b,e[5]=f):(b=e[4],f=e[5]),e[6]!==a?(c=i.jsx("input",{type:"hidden",name:"code",value:a}),e[6]=a,e[7]=c):c=e[7];const _=s==="dark"?"dark":"light";let d,h,u,x,n,j;return e[8]!==a||e[9]!==_?(d=i.jsx(D,{theme:_,language:"python",className:"cm border rounded overflow-hidden",extensions:z,value:a,onChange:l}),e[8]=a,e[9]=_,e[10]=d):d=e[10],e[11]!==c||e[12]!==d?(h=i.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[b,f,c,d]}),e[11]=c,e[12]=d,e[13]=h):h=e[13],e[14]!==r?(u=i.jsx(S,{"data-testid":"snippet-cancel-button",variant:"secondary",onClick:r,children:"Cancel"}),e[14]=r,e[15]=u):u=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(S,{"data-testid":"snippet-send-button","aria-label":"Save",variant:"default",type:"submit",children:"Send"}),e[16]=x):x=e[16],e[17]!==u?(n=i.jsxs(K,{children:[u,x]}),e[17]=u,e[18]=n):n=e[18],e[19]!==o||e[20]!==n||e[21]!==h?(j=i.jsx(L,{className:"w-fit",children:i.jsxs("form",{onSubmit:o,children:[v,h,n]})}),e[19]=o,e[20]=n,e[21]=h,e[22]=j):j=e[22],j},F=[H.lineWrapping],E=()=>{const t=N.c(22),{readSnippets:e}=U(),[r,a]=V.useState();let l,s;t[0]!==e?(l=()=>e(),t[0]=e,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],t[2]=s):s=t[2];const{data:o,error:p,isPending:v}=ee(l,s);if(p){let m;return t[3]!==p?(m=i.jsx(oe,{error:p}),t[3]=p,t[4]=m):m=t[4],m}if(v||!o){let m;return t[5]===Symbol.for("react.memo_cache_sentinel")?(m=i.jsx(se,{size:"medium",centered:!0}),t[5]=m):m=t[5],m}const b=r?"h-1/3":"h-full";let f,c,_,d,h,u,x,n,j;return t[6]!==b?(f=te("border-b rounded-none",b),t[6]=b,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(ae,{placeholder:"Search snippets...",className:"h-6 m-1",rootClassName:"flex-1 border-r"}),t[8]=c):c=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=i.jsxs("div",{className:"flex items-center w-full",children:[c,i.jsx(P,{children:i.jsx("button",{className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",children:i.jsx(le,{className:"h-4 w-4"})})})]}),d=i.jsx(ne,{children:"No results"}),t[9]=_,t[10]=d):(_=t[9],d=t[10]),t[11]===Symbol.for("react.memo_cache_sentinel")?(h=m=>a(m),t[11]=h):h=t[11],t[12]!==o.snippets?(u=i.jsx(q,{onSelect:h,snippets:o.snippets}),t[12]=o.snippets,t[13]=u):u=t[13],t[14]!==f||t[15]!==u?(x=i.jsxs(me,{className:f,children:[_,d,u]}),t[14]=f,t[15]=u,t[16]=x):x=t[16],t[17]!==r?(n=i.jsx($.Suspense,{children:i.jsx("div",{className:"h-2/3 snippet-viewer flex flex-col",children:r?i.jsx(T,{snippet:r,onClose:()=>a(void 0)},r.title):i.jsx(fe,{title:"",description:"Click on a snippet to view its content."})})}),t[17]=r,t[18]=n):n=t[18],t[19]!==n||t[20]!==x?(j=i.jsxs("div",{className:"flex-1 overflow-hidden",children:[x,n]}),t[19]=n,t[20]=x,t[21]=j):j=t[21],j},T=t=>{const e=N.c(33),{snippet:r,onClose:a}=t,{theme:l}=O(),{createNewCell:s}=ie(),o=re();let p;e[0]!==s||e[1]!==o||e[2]!==r.sections?(p=()=>{for(const y of[...r.sections].reverse())y.code&&s({code:y.code,before:!1,cellId:o??"__end__",skipIfCodeExists:!0})},e[0]=s,e[1]=o,e[2]=r.sections,e[3]=p):p=e[3];const v=p;let b;e[4]!==s||e[5]!==o?(b=y=>{s({code:y,before:!1,cellId:o??"__end__"})},e[4]=s,e[5]=o,e[6]=b):b=e[6];const f=b;let c,_,d,h,u,x,n,j,m;if(e[7]!==r.title?(c=i.jsx("span",{children:r.title}),e[7]=r.title,e[8]=c):c=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(_=i.jsx(pe,{className:"h-4 w-4"}),e[9]=_):_=e[9],e[10]!==a?(d=i.jsx(S,{size:"sm",variant:"ghost",onClick:a,className:"h-6 w-6 p-0 hover:bg-muted-foreground/10",children:_}),e[10]=a,e[11]=d):d=e[11],e[12]!==c||e[13]!==d?(h=i.jsxs("div",{className:"text-sm font-semibold bg-muted border-y px-2 py-1 flex justify-between items-center",children:[c,d]}),e[12]=c,e[13]=d,e[14]=h):h=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(u=i.jsx(W,{className:"ml-2 h-4 w-4"}),e[15]=u):u=e[15],e[16]!==v?(x=i.jsx("div",{className:"flex justify-end",children:i.jsx(M,{children:i.jsxs(S,{className:"float-right",size:"xs",variant:"outline",onClick:v,children:["Insert snippet",u]})})}),e[16]=v,e[17]=x):x=e[17],e[18]!==f||e[19]!==r.sections||e[20]!==r.title||e[21]!==l){let y;e[23]!==f||e[24]!==r.title||e[25]!==l?(y=C=>{const{code:g,html:w,id:k}=C;return w?i.jsx("div",{children:ce({html:w})},`${r.title}-${k}`):g?i.jsxs("div",{className:"relative hover-actions-parent pr-2",children:[i.jsx(M,{children:i.jsx(de,{content:"Insert snippet",children:i.jsx(S,{className:"absolute -top-2 -right-1 z-10 hover-action px-2 bg-background",size:"sm",variant:"outline",onClick:()=>{f(g)},children:i.jsx(W,{className:"h-5 w-5"})})})}),i.jsx($.Suspense,{children:i.jsx(D,{theme:l==="dark"?"dark":"light",language:"python",className:"cm border rounded overflow-hidden",extensions:F,value:g,readOnly:!0},`${r.title}-${k}`)})]},`${r.title}-${k}`):null},e[23]=f,e[24]=r.title,e[25]=l,e[26]=y):y=e[26],n=r.sections.map(y),e[18]=f,e[19]=r.sections,e[20]=r.title,e[21]=l,e[22]=n}else n=e[22];return e[27]!==x||e[28]!==n?(j=i.jsxs("div",{className:"px-2 py-2 space-y-4 overflow-auto flex-1",children:[x,n]}),e[27]=x,e[28]=n,e[29]=j):j=e[29],e[30]!==j||e[31]!==h?(m=i.jsxs(i.Fragment,{children:[h,j]}),e[30]=j,e[31]=h,e[32]=m):m=e[32],m},q=t=>{const e=N.c(7),{snippets:r,onSelect:a}=t;let l,s;if(e[0]!==a||e[1]!==r){let o;e[3]!==a?(o=p=>i.jsx(he,{className:"rounded-none",onSelect:()=>a(p),children:i.jsx("div",{className:"flex flex-row gap-2 items-center",children:i.jsx("span",{className:"mt-1 text-accent-foreground",children:p.title})})},p.title),e[3]=a,e[4]=o):o=e[4],l=r.map(o),e[0]=a,e[1]=r,e[2]=l}else l=e[2];return e[5]!==l?(s=i.jsx(ue,{className:"flex flex-col overflow-auto",children:l}),e[5]=l,e[6]=s):s=e[6],s}});export{ye as __tla,E as default};
